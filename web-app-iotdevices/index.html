<!DOCTYPE HTML>
<html>

<head>
	<meta charset="UTF-8">
	<title>Main</title>
	<link rel="stylesheet" href="/styles.css">
	<script src="/App.js"></script>
</head>

<body>
	<div id="elm"></div>
	<script>
		const loggedin = localStorage.getItem('token') ? parseInt(localStorage.getItem('token')) : -1;
		var app = Elm.Main.init({
			node: document.getElementById('elm'),
			flags: loggedin
		});
		app.ports.setToken.subscribe(function (data) {
			localStorage.setItem('token', data);
		});
		app.ports.deleteToken.subscribe(function () {
			localStorage.removeItem('token')
		});
	</script>
</body>

</html>